<!--/health-kitchen/app/views/public/users/show.html.erb-->


<%= render 'shared/user_details', 
  user: @user, 
  recipes: @recipes, 
  admin_view: false
%>

<div class="container py-5">
  <div class="row justify-content-center mb-5">
    <div class="col-lg-8 col-md-10">
      <h4 class="text-center mb-4">投稿レシピ</h4>
      
      <!-- 検索フォーム -->
      <%= render 'shared/recipe_search', 
          q: @q, 
          url: user_path(@user),
          search_attributes: :title_or_description_or_recipe_ingredients_ingredient_or_genres_name_cont,
          placeholder: '料理名・材料・ジャンル など'
      %>

      <!-- レシピ一覧 -->
      <div class="recipe-list">
        <% if @recipes.present? %>
          <%= render 'shared/recipe_cards', recipes: @recipes, admin_view: false %>
        <% else %>
          <div class="text-center text-muted py-5">
            <p>まだレシピが投稿されていません</p>
          </div>
        <% end %>
      </div>
      
      <!-- ページネーション -->
      <div class="d-flex justify-content-center mt-4">
        <%= paginate @recipes, class: 'pagination' %>
      </div>
    </div>
  </div>
</div>